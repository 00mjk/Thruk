# Changes to controller

The following changes must be adopted:

 - remove decorators from index function and replace with:
   "return unless Thruk::Action::AddDefaults::add_defaults($c, Thruk::ADD_SAFE_DEFAULTS);"
   Available defaults are 'Thruk::ADD_SAFE_DEFAULTS', 'Thruk::ADD_CACHED_DEFAULTS' or 'Thruk::ADD_DEFAULTS'.
 - add 'add_routes' function, see existing plugins for an example.

Replace the following pattern.
 - $c->response->redirect               -> $c->redirect_to
 - $c->res->content_type                -> $c->res->headers->content_type
 - $c->res->header                      -> $c->res->headers->header
 - $c->forward("View::JSON");           -> return $c->render(json => $json);
 - $c->response->status()               -> $c->res->code()
 - $c->res->cookies->{'name'} = {...    -> $c->cookie('name' => $val, { path  => ... });
 - $c->{'request'}->{'parameters'}      -> $c->req->parameters
 - __PACKAGE__->meta->make_immutable;   -> remove


# Renamed Environment Variables

 - CATALYST_SERVER -> PLACK_TEST_EXTERNALSERVER_URI
 - CATALYST_CONFIG -> THRUK_CONFIG
